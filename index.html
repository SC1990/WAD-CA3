<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body>
  <h1>My Address Book</h1>
  <h2>Hi user123</h2>



  <button id="button" onclick="getAllContacts()">View All Contacts</button>
  <div id="allContacts"></div>
  




  <!--function to print all contacts-->
  <script>
    function getAllContacts() {
      

      //create new XMLHttpRequest object
      //with this - can update parts of web page without reloading whole page
      //requests data from server
      var getContacts = new XMLHttpRequest();

      //stores function to be called when readyState status changes
      getContacts.onreadystatechange = function() {
        //readyState holds status of XMLHttpRequest object
        //4 = request finished and response is ready
        //status 200 = 'ok', status 404 = 'not found'
        if (this.readyState == 4 && this.status == 200) {
          document.getElementById("allContacts").innerHTML = this.responseText; // returns data as string
          document.getElementById("button").innerHTML = "CLOSE";
        }

      };

      //send request to index.php file on server 
      getContacts.open("GET", "viewContacts.php");
      getContacts.send();
      
      //temporary solution to close contacts div
      document.getElementById("button").onclick = function closeContacts(){
        location.reload();
      };
    }
    
   
  </script>

  <br>
  <br>
  
  
  <p>---------------------------------------------------------------</p>
  <p>---------------------------------------------------------------</p>
  
  <!-- Add new contact-->
  <button id="addNew" onclick="">Add New Contact</button>
  
  
  <!--contact form-->
  <form action="addNewContact.php" method="post">
    Name:<br>
    <input type="text" name="name">
    <br><br>
    <span style="font-weight:bold">Address</span><br>
    Street:<br>
    <input type="text" name="street">
    <br>
    Town:<br>
    <input type="text" name="town">
    <br>
    City:<br>
    <input type="text" name="city">
    <br>
    Country:<br>
    <input type="text" name="country">
    <br><br>
    <span style="font-weight:bold">Telephone Numbers</span><br>
    Mobile:<br>
    <input type="text" name="mobile">
    <br>
    Home:<br>
    <input type="text" name="home">
    <br>
    Work:<br>
    <input type="text" name="work">
    <br><br>
    Email:<br>
    <input type="text" name="email">
    <br>
    Company:<br>
    <input type="text" name="company">
    <br>
    Company Role:<br>
    <input type="text" name="role">
    <br>
    <br>
    <input type="submit" value="Add">
  </form>
  

  <!--
  <div id="searchWindow">
    <p><b>Search for contact:</b></p>
    <form>
      
      First name: <input type="text" onkeyup="showContactHint(this.value)">
    </form>
    <p>Suggestions: <span id="contactHint"></span></p>
  </div>
  -->


</body>

</html>